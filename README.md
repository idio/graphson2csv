# Graphson2csv

Dumps huge Graphson's into CSV files which can be fed into Neo4j Batch importer.

- Json Parsing is done via Streaming so it can handle huge Graphsons

## Compile
 - Make sure you are using Java 7 
 - `mvn package`
 - `mvn assembly:single`

## Usage

- `<path_to_graphson>`: Path to `graphson.json`
- `<output_folder>` : Folder where `nodes.csv` and `relationships.csv` will be generated

```
java -server -Xmx4G -jar target/BatchTools-1.0-SNAPSHOT-jar-with-dependencies.jar
json2csv <path_to_graphson> <output_folder> dfr:int,alias:string,enid:string,dbpedia_id:string,updated:int,name:string,images:string,wiki:string,wordnet:string,mid:string,wikiabstract:string,modified:string,gravity:string,score:string
```

## Getting a Graphson out of Neo4j Database

- Get [Gremlin](https://github.com/tinkerpop/gremlin) ([Gremlin 2.4.0](http://tinkerpop.com/downloads/gremlin/gremlin-groovy-2.4.0.zip))
- run `bin/gremlin.sh`

In the Gremlin shell do:

```
g = new Neo4jGraph('../path_to_neo4j/graph.db');  
g.saveGraphSON('..output_path/jsongraph.json');
```

## Importing CSV into Neo4j

The files generated by this tool can be fed into [Neo4j Batch-import Tool](https://github.com/jexp/batch-import)